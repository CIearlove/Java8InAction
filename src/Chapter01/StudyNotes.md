# 第一章 为什么要关心java8

* java怎么又变了
* 日新月异的计算应用背景：多核和处理大型数据集
* 改进的压力：函数式比命令式更适应新的体系架构
* java8的核心新特性：**Lambda（匿名函数）**、**流**、**默认方法**

1. 更简洁的代码，这些代码读起来更接近问题的描述
2. 更简单的代码，更简单地使用了多核处理器
   * java8中提供了一个新的API(称为**“流”**，Stream)，它能支持许多处理数据的并行操作，其思路和在数据库查询语言中的思路类似――用更高级的方式表达想要的东西，而由“实现”（在这里是Streams库）来选择最佳低级执行机制。
   * java8里面将代码传递给方法的功能还让我们能够使用一整套新技巧，通常称为**函数式编程**

## 1.1java怎么还在变
### 1.1.1java在编程语言生态系统中的位置
* java是一个精心设计的面向对象的语言，有许多有用的库。有了集成的线程和锁的支持，它从第一天起就支持小规模并发。
* 将java编译成JVM字节码（一种很快被每一种浏览器支持的虚拟机代码）意味着它成为了互联网`applet`（小应用）的首选。
* 程序员越来越多地要处理所谓的大数据，并希望利用多核计算机或计算集群来有效地处理。这意味着需要使用并行处理――java以前对此并不支持。

### 1.1.2流处理
* <font face=楷体>流</font>是一系列数据项，一次只生成一项。程序可以从输入流中一个一个读取数据项，然后以同样的方式将数据项写入输入流。

* 一个实际的例子是在Unix或Linux中，很多程序都从标准输入（Java中的System.in）读取数据，然后把结果写入标准输出（Java中的System.out）。

* Unix命令：会（假设file1和file2中每行都只有一个词）先把字母转换成小写字母，然后打印出按照词典排序出现在最后的三个单词。

  <br>![Unix命令.png](https://s2.ax1x.com/2019/07/02/ZYVOdf.png)

* 我们说sort把一个行流作为输入，产生了另一个行<font face=楷体>流</font>（进行排序）作为输出，如图1-2所示。请注意在Unix中，命令（cat,tr,sort和tail）是同时执行的，这样sort就可以在cat或tr完成前先处理头几行。<br>

  ![操作流的Unix命令.png](https://s2.ax1x.com/2019/07/02/ZYVzWQ.png)

* 基于这一思想，Java8在`java.util.stream`中添加了一个`Stream API`;`Stream<T>`就是一系列`T`类型的项目。`Stream API`的很多方法可以链接起来形成一个复杂的流水线，就像先前例子里面链接起来的`Unix`命令一样。

* 推动这种做法有两个好处：

     1.你可以站在更高的抽象层次上写`Java8`程序了：思路变成把这样的流变成那样的流（就像写数据库查询语句时的那种思路），而不是一次只处理一个项目。

     2.Java8可以透明地把输入的不相关部分拿到几个CPU内核上去分别执行你的`Stream`操作流水线――这是<font face=楷体>几乎免费</font>的并行，用不着费劲搞Thread了。